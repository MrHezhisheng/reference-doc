

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>machine — functions related to the hardware &mdash; makeblock micropython 文档说明 1.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="class Pin – control I/O pins" href="machine.Pin.html" />
    <link rel="prev" title="framebuf — Frame buffer manipulation" href="framebuf.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> makeblock micropython 文档说明
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../codey&amp;rocky/index.html">程小奔的python接口</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codey&amp;rocky/tutorial.html">程小奔的实例教程</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">microPython 官方类库</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#id3">micropython 标准库</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#id4">microPython 特有类库</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="btree.html"><code class="docutils literal notranslate"><span class="pre">btree</span></code> – simple BTree database</a></li>
<li class="toctree-l3"><a class="reference internal" href="framebuf.html"><code class="docutils literal notranslate"><span class="pre">framebuf</span></code> — Frame buffer manipulation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">machine</span></code> — functions related to the hardware</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reset-related-functions">Reset related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interrupt-related-functions">Interrupt related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-related-functions">Power related functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous-functions">Miscellaneous functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="micropython.html"><code class="docutils literal notranslate"><span class="pre">micropython</span></code> – access and control MicroPython internals</a></li>
<li class="toctree-l3"><a class="reference internal" href="ucryptolib.html"><code class="docutils literal notranslate"><span class="pre">ucryptolib</span></code> – cryptographic ciphers</a></li>
<li class="toctree-l3"><a class="reference internal" href="uctypes.html"><code class="docutils literal notranslate"><span class="pre">uctypes</span></code> – access binary data in a structured way</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">microPython 语言介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genrst/index.html">microPython 和 python 的差异</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">microPython 许可证信息</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">makeblock micropython 文档说明</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">microPython 官方类库</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">machine</span></code> — functions related to the hardware</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/library/machine.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-machine">
<span id="machine-functions-related-to-the-hardware"></span><h1><a class="reference internal" href="#module-machine" title="machine: functions related to the hardware"><code class="xref py py-mod docutils literal notranslate"><span class="pre">machine</span></code></a> — functions related to the hardware<a class="headerlink" href="#module-machine" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">machine</span></code> module contains specific functions related to the hardware
on a particular board. Most functions in this module allow to achieve direct
and unrestricted access to and control of hardware blocks on a system
(like CPU, timers, buses, etc.). Used incorrectly, this can lead to
malfunction, lockups, crashes of your board, and in extreme cases, hardware
damage.</p>
<p id="machine-callbacks">A note of callbacks used by functions and class methods of <a class="reference internal" href="#module-machine" title="machine: functions related to the hardware"><code class="xref py py-mod docutils literal notranslate"><span class="pre">machine</span></code></a> module:
all these callbacks should be considered as executing in an interrupt context.
This is true for both physical devices with IDs &gt;= 0 and “virtual” devices
with negative IDs like -1 (these “virtual” devices are still thin shims on
top of real hardware and real hardware interrupts). See <a class="reference internal" href="../reference/isr_rules.html#isr-rules"><span class="std std-ref">Writing interrupt handlers</span></a>.</p>
<div class="section" id="reset-related-functions">
<h2>Reset related functions<a class="headerlink" href="#reset-related-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="machine.reset">
<code class="descclassname">machine.</code><code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the device in a manner similar to pushing the external RESET
button.</p>
</dd></dl>

<dl class="function">
<dt id="machine.reset_cause">
<code class="descclassname">machine.</code><code class="descname">reset_cause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.reset_cause" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the reset cause. See <a class="reference internal" href="#machine-constants"><span class="std std-ref">constants</span></a> for the possible return values.</p>
</dd></dl>

</div>
<div class="section" id="interrupt-related-functions">
<h2>Interrupt related functions<a class="headerlink" href="#interrupt-related-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="machine.disable_irq">
<code class="descclassname">machine.</code><code class="descname">disable_irq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.disable_irq" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable interrupt requests.
Returns the previous IRQ state which should be considered an opaque value.
This return value should be passed to the <a class="reference internal" href="#machine.enable_irq" title="machine.enable_irq"><code class="xref any py py-func docutils literal notranslate"><span class="pre">enable_irq()</span></code></a> function to restore
interrupts to their original state, before <a class="reference internal" href="#machine.disable_irq" title="machine.disable_irq"><code class="xref any py py-func docutils literal notranslate"><span class="pre">disable_irq()</span></code></a> was called.</p>
</dd></dl>

<dl class="function">
<dt id="machine.enable_irq">
<code class="descclassname">machine.</code><code class="descname">enable_irq</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#machine.enable_irq" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-enable interrupt requests.
The <em>state</em> parameter should be the value that was returned from the most
recent call to the <a class="reference internal" href="#machine.disable_irq" title="machine.disable_irq"><code class="xref any py py-func docutils literal notranslate"><span class="pre">disable_irq()</span></code></a> function.</p>
</dd></dl>

</div>
<div class="section" id="power-related-functions">
<h2>Power related functions<a class="headerlink" href="#power-related-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="machine.freq">
<code class="descclassname">machine.</code><code class="descname">freq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns CPU frequency in hertz.</p>
</dd></dl>

<dl class="function">
<dt id="machine.idle">
<code class="descclassname">machine.</code><code class="descname">idle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.idle" title="Permalink to this definition">¶</a></dt>
<dd><p>Gates the clock to the CPU, useful to reduce power consumption at any time during
short or long periods. Peripherals continue working and execution resumes as soon
as any interrupt is triggered (on many ports this includes system timer
interrupt occurring at regular intervals on the order of millisecond).</p>
</dd></dl>

<dl class="function">
<dt id="machine.sleep">
<code class="descclassname">machine.</code><code class="descname">sleep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the CPU and disables all peripherals except for WLAN. Execution is resumed from
the point where the sleep was requested. For wake up to actually happen, wake sources
should be configured first.</p>
</dd></dl>

<dl class="function">
<dt id="machine.deepsleep">
<code class="descclassname">machine.</code><code class="descname">deepsleep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.deepsleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the CPU and all peripherals (including networking interfaces, if any). Execution
is resumed from the main script, just as with a reset. The reset cause can be checked
to know that we are coming from <a class="reference internal" href="#machine.machine.DEEPSLEEP" title="machine.machine.DEEPSLEEP"><code class="xref any py py-data docutils literal notranslate"><span class="pre">machine.DEEPSLEEP</span></code></a>. For wake up to actually happen,
wake sources should be configured first, like <a class="reference internal" href="machine.Pin.html#machine.Pin" title="machine.Pin"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Pin</span></code></a> change or <a class="reference internal" href="machine.RTC.html#machine.RTC" title="machine.RTC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RTC</span></code></a> timeout.</p>
</dd></dl>

<dl class="function">
<dt id="machine.wake_reason">
<code class="descclassname">machine.</code><code class="descname">wake_reason</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.wake_reason" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the wake reason. See <a class="reference internal" href="#machine-constants"><span class="std std-ref">constants</span></a> for the possible return values.</p>
<p>Availability: ESP32, WiPy.</p>
</dd></dl>

</div>
<div class="section" id="miscellaneous-functions">
<h2>Miscellaneous functions<a class="headerlink" href="#miscellaneous-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="machine.unique_id">
<code class="descclassname">machine.</code><code class="descname">unique_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.unique_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a byte string with a unique identifier of a board/SoC. It will vary
from a board/SoC instance to another, if underlying hardware allows. Length
varies by hardware (so use substring of a full value if you expect a short
ID). In some MicroPython ports, ID corresponds to the network MAC address.</p>
</dd></dl>

<dl class="function">
<dt id="machine.time_pulse_us">
<code class="descclassname">machine.</code><code class="descname">time_pulse_us</code><span class="sig-paren">(</span><em>pin</em>, <em>pulse_level</em>, <em>timeout_us=1000000</em><span class="sig-paren">)</span><a class="headerlink" href="#machine.time_pulse_us" title="Permalink to this definition">¶</a></dt>
<dd><p>Time a pulse on the given <em>pin</em>, and return the duration of the pulse in
microseconds.  The <em>pulse_level</em> argument should be 0 to time a low pulse
or 1 to time a high pulse.</p>
<p>If the current input value of the pin is different to <em>pulse_level</em>,
the function first (*) waits until the pin input becomes equal to <em>pulse_level</em>,
then (**) times the duration that the pin is equal to <em>pulse_level</em>.
If the pin is already equal to <em>pulse_level</em> then timing starts straight away.</p>
<p>The function will return -2 if there was timeout waiting for condition marked
(*) above, and -1 if there was timeout during the main measurement, marked (**)
above. The timeout is the same for both cases and given by <em>timeout_us</em> (which
is in microseconds).</p>
</dd></dl>

<dl class="function">
<dt id="machine.rng">
<code class="descclassname">machine.</code><code class="descname">rng</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.rng" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a 24-bit software generated random number.</p>
<p>Availability: WiPy.</p>
</dd></dl>

</div>
<div class="section" id="constants">
<span id="machine-constants"></span><h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="machine.machine.IDLE">
<code class="descclassname">machine.</code><code class="descname">IDLE</code><a class="headerlink" href="#machine.machine.IDLE" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.SLEEP">
<code class="descclassname">machine.</code><code class="descname">SLEEP</code><a class="headerlink" href="#machine.machine.SLEEP" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.DEEPSLEEP">
<code class="descclassname">machine.</code><code class="descname">DEEPSLEEP</code><a class="headerlink" href="#machine.machine.DEEPSLEEP" title="Permalink to this definition">¶</a></dt>
<dd><p>IRQ wake values.</p>
</dd></dl>

<dl class="data">
<dt id="machine.machine.PWRON_RESET">
<code class="descclassname">machine.</code><code class="descname">PWRON_RESET</code><a class="headerlink" href="#machine.machine.PWRON_RESET" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.HARD_RESET">
<code class="descclassname">machine.</code><code class="descname">HARD_RESET</code><a class="headerlink" href="#machine.machine.HARD_RESET" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.WDT_RESET">
<code class="descclassname">machine.</code><code class="descname">WDT_RESET</code><a class="headerlink" href="#machine.machine.WDT_RESET" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.DEEPSLEEP_RESET">
<code class="descclassname">machine.</code><code class="descname">DEEPSLEEP_RESET</code><a class="headerlink" href="#machine.machine.DEEPSLEEP_RESET" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.SOFT_RESET">
<code class="descclassname">machine.</code><code class="descname">SOFT_RESET</code><a class="headerlink" href="#machine.machine.SOFT_RESET" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset causes.</p>
</dd></dl>

<dl class="data">
<dt id="machine.machine.WLAN_WAKE">
<code class="descclassname">machine.</code><code class="descname">WLAN_WAKE</code><a class="headerlink" href="#machine.machine.WLAN_WAKE" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.PIN_WAKE">
<code class="descclassname">machine.</code><code class="descname">PIN_WAKE</code><a class="headerlink" href="#machine.machine.PIN_WAKE" title="Permalink to this definition">¶</a></dt>
<dt id="machine.machine.RTC_WAKE">
<code class="descclassname">machine.</code><code class="descname">RTC_WAKE</code><a class="headerlink" href="#machine.machine.RTC_WAKE" title="Permalink to this definition">¶</a></dt>
<dd><p>Wake-up reasons.</p>
</dd></dl>

</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="machine.Pin.html">class Pin – control I/O pins</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.Signal.html">class Signal – control and sense external I/O devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.ADC.html">class ADC – analog to digital conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.ADC.html#class-adcchannel-read-analog-values-from-internal-or-external-sources">class ADCChannel — read analog values from internal or external sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.UART.html">class UART – duplex serial communication bus</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.SPI.html">class SPI – a Serial Peripheral Interface bus protocol (master side)</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.I2C.html">class I2C – a two-wire serial protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.RTC.html">class RTC – real time clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.Timer.html">class Timer – control hardware timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.WDT.html">class WDT – watchdog timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.SD.html">class SD – secure digital memory card</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="machine.Pin.html" class="btn btn-neutral float-right" title="class Pin – control I/O pins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="framebuf.html" class="btn btn-neutral" title="framebuf — Frame buffer manipulation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2018, Damien P. George, Paul Sokolovsky, Yan Minge and contributors, Translators are meixiang dong, stephanie wu, eleven wang
      Last updated on 03 Dec 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Versions and Downloads</span>
    
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="//en/latest/makeblock">latest</a></dd>
      
    </dl>
    <dl>
      <dt>Downloads</dt>
      
        <dd><a href="//en/latest/micropython-makeblock.pdf">PDF</a></dd>
      
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
        <dd>
          <a href="https://www.micropython.org">micropython.org</a>
        </dd>
        <dd>
          <a href="https://gitee.com/makeblockcc/micropython-api-doc">doc git</a>
        </dd>
    </dl>
  </div>
</div>

  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>